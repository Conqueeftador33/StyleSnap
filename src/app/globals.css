
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* === Base HSL Tokens (Light Theme) === */
    --background-h: 0; --background-s: 0%; --background-l: 96.5%; /* Very light grayish rose (#F0ECEC) */
    --foreground-h: 0; --foreground-s: 10%; --foreground-l: 20%; /* Darker text for readability */
    --card-h: 0; --card-s: 0%; --card-l: 100%;
    --card-foreground-h: 0; --card-foreground-s: 10%; --card-foreground-l: 20%;
    --popover-h: 0; --popover-s: 0%; --popover-l: 100%;
    --popover-foreground-h: 0; --popover-foreground-s: 10%; --popover-foreground-l: 20%;
    
    --primary-h: 0; --primary-s: 25%; --primary-l: 65%; /* Dusty Rose (#C2A3A3) */
    --primary-foreground-h: 0; --primary-foreground-s: 0%; --primary-foreground-l: 100%; /* White text for contrast */
    
    --secondary-h: 0; --secondary-s: 15%; --secondary-l: 80%; /* Lighter dusty rose */
    --secondary-foreground-h: 0; --secondary-foreground-s: 10%; --secondary-foreground-l: 25%;
    --muted-h: 0; --muted-s: 10%; --muted-l: 90%; /* Even lighter rose/gray */
    --muted-foreground-h: 0; --muted-foreground-s: 10%; --muted-foreground-l: 40%;
    --accent-h: 270; --accent-s: 25%; --accent-l: 65%; /* Muted Violet (#A3A3C2) */
    --accent-foreground-h: 0; --accent-foreground-s: 0%; --accent-foreground-l: 100%; /* White text for contrast */
    --destructive-h: 0; --destructive-s: 70%; --destructive-l: 50%;
    --destructive-foreground-h: 0; --destructive-s: 0%; --destructive-foreground-l: 100%;
    --border-h: 0; --border-s: 15%; --border-l: 80%; /* Lighter border to match theme */
    --input-h: 0; --input-s: 0%; --input-l: 95%; /* Very light input background */
    
    --ring-h: var(--primary-h); --ring-s: var(--primary-s); --ring-l: calc(var(--primary-l) + 10%);

    /* === Derived Light Colors === */
    --background: hsl(var(--background-h) var(--background-s) var(--background-l));
    --foreground: hsl(var(--foreground-h) var(--foreground-s) var(--foreground-l));
    --card: hsl(var(--card-h) var(--card-s) var(--card-l));
    --card-foreground: hsl(var(--card-foreground-h) var(--card-foreground-s) var(--card-foreground-l));
    --popover: hsl(var(--popover-h) var(--popover-s) var(--popover-l));
    --popover-foreground: hsl(var(--popover-foreground-h) var(--popover-foreground-s) var(--popover-foreground-l));
    --primary: hsl(var(--primary-h) var(--primary-s) var(--primary-l));
    --primary-foreground: hsl(var(--primary-foreground-h) var(--primary-foreground-s) var(--primary-foreground-l));
    --secondary: hsl(var(--secondary-h) var(--secondary-s) var(--secondary-l));
    --secondary-foreground: hsl(var(--secondary-foreground-h) var(--secondary-foreground-s) var(--secondary-foreground-l));
    --muted: hsl(var(--muted-h) var(--muted-s) var(--muted-l));
    --muted-foreground: hsl(var(--muted-foreground-h) var(--muted-foreground-s) var(--muted-foreground-l));
    --accent: hsl(var(--accent-h) var(--accent-s) var(--accent-l));
    --accent-foreground: hsl(var(--accent-foreground-h) var(--accent-foreground-s) var(--accent-foreground-l));
    --destructive: hsl(var(--destructive-h) var(--destructive-s) var(--destructive-l));
    --destructive-foreground: hsl(var(--destructive-foreground-h) var(--destructive-foreground-s) var(--destructive-foreground-l));
    --border: hsl(var(--border-h) var(--border-s) var(--border-l));
    --input: hsl(var(--input-h) var(--input-s) var(--input-l));
    --ring: hsl(var(--ring-h) var(--ring-s) var(--ring-l));

    /* === Charts & Patterns === */
    --chart-1: var(--primary);
    --chart-2: var(--accent);
    --chart-3: hsl(225 30% 60%);
    --chart-4: hsl(var(--primary-h) var(--primary-s) calc(var(--primary-l) + 15%));
    --chart-5: hsl(var(--accent-h) calc(var(--accent-s) - 10%) calc(var(--accent-l) + 10%));
    --pattern-line-opacity: 0.25;
    --pattern-tile-size: 40px;
    --radius: 0.5rem;
  }

  .dark {
    /* === Base HSL Tokens (Dark Theme - Overhauled for White Text) === */
    --background-h: 0; --background-s: 5%; --background-l: 10%; /* Darker grayish rose */
    --foreground-h: 0; --foreground-s: 0%; --foreground-l: 95%; /* Off-white for main text */
    
    --card-h: 0; --card-s: 5%; --card-l: 14%; /* Slightly lighter card background */
    --card-foreground-h: 0; --card-foreground-s: 0%; --card-foreground-l: 95%; /* Off-white for card text */
    
    --popover-h: 0; --popover-s: 5%; --popover-l: 12%; /* Consistent popover */
    --popover-foreground-h: 0; --popover-foreground-s: 0%; --popover-foreground-l: 95%; /* Off-white for popover text */
    
    --primary-h: 0; --primary-s: 25%; --primary-l: 55%; /* Dusty Rose, slightly darker for dark mode bg */
    --primary-foreground-h: 0; --primary-foreground-s: 0%; --primary-foreground-l: 95%; /* Off-white text on primary elements */
    
    --secondary-h: 0; --secondary-s: 15%; --secondary-l: 30%; /* Darker secondary elements */
    --secondary-foreground-h: 0; --secondary-foreground-s: 0%; --secondary-foreground-l: 92%; /* Lighter secondary text */
    
    --muted-h: 0; --muted-s: 10%; --muted-l: 22%;
    --muted-foreground-h: 0; --muted-foreground-s: 0%; --muted-foreground-l: 80%; /* Lighter muted text */
    
    --accent-h: 270; --accent-s: 30%; --accent-l: 45%; /* Darker Muted Violet for background */
    --accent-foreground-h: 0; --accent-foreground-s: 0%; --accent-foreground-l: 95%; /* Off-white text on accent */
    
    --destructive-h: 0; --destructive-s: 65%; --destructive-l: 45%; /* Slightly darker destructive red */
    --destructive-foreground-h: 0; --destructive-s: 0%; --destructive-foreground-l: 96%; /* White text on destructive */
    
    --border-h: 0; --border-s: 10%; --border-l: 25%; /* Clearer borders */
    --input-h: 0; --input-s: 5%; --input-l: 18%; /* Input background distinct but dark */
    
    --ring-h: var(--primary-h); --ring-s: calc(var(--primary-s) + 5%); --ring-l: calc(var(--primary-l) + 5%);

    /* === Derived Dark Colors === */
    --background: hsl(var(--background-h) var(--background-s) var(--background-l));
    --foreground: hsl(var(--foreground-h) var(--foreground-s) var(--foreground-l));
    --card: hsl(var(--card-h) var(--card-s) var(--card-l));
    --card-foreground: hsl(var(--card-foreground-h) var(--card-foreground-s) var(--card-foreground-l));
    --popover: hsl(var(--popover-h) var(--popover-s) var(--popover-l));
    --popover-foreground: hsl(var(--popover-foreground-h) var(--popover-foreground-s) var(--popover-foreground-l));
    --primary: hsl(var(--primary-h) var(--primary-s) var(--primary-l));
    --primary-foreground: hsl(var(--primary-foreground-h) var(--primary-foreground-s) var(--primary-foreground-l));
    --secondary: hsl(var(--secondary-h) var(--secondary-s) var(--secondary-l));
    --secondary-foreground: hsl(var(--secondary-foreground-h) var(--secondary-foreground-s) var(--secondary-foreground-l));
    --muted: hsl(var(--muted-h) var(--muted-s) var(--muted-l));
    --muted-foreground: hsl(var(--muted-foreground-h) var(--muted-foreground-s) var(--muted-foreground-l));
    --accent: hsl(var(--accent-h) var(--accent-s) var(--accent-l));
    --accent-foreground: hsl(var(--accent-foreground-h) var(--accent-foreground-s) var(--accent-foreground-l));
    --destructive: hsl(var(--destructive-h) var(--destructive-s) var(--destructive-l));
    --destructive-foreground: hsl(var(--destructive-foreground-h) var(--destructive-foreground-s) var(--destructive-foreground-l));
    --border: hsl(var(--border-h) var(--border-s) var(--border-l));
    --input: hsl(var(--input-h) var(--input-s) var(--input-l));
    --ring: hsl(var(--ring-h) var(--ring-s) var(--ring-l));

    --chart-1: hsl(var(--primary-h) var(--primary-s) calc(var(--primary-l) + 5%));
    --chart-2: hsl(var(--accent-h) var(--accent-s) calc(var(--accent-l) + 5%));
    --chart-3: hsl(225 25% 50%);
    --chart-4: hsl(var(--primary-h) calc(var(--primary-s) - 10%) calc(var(--primary-l) + 10%));
    --chart-5: hsl(var(--accent-h) calc(var(--accent-s) - 10%) calc(var(--accent-l) + 10%));
    --pattern-line-opacity: 0.07; /* Reduced opacity for dark mode pattern */
  }

  * {
    @apply border-border;
  }

  body {
    background-color: var(--background);
    background-image:
      linear-gradient(
        hsla(var(--border-h), var(--border-s), var(--border-l), var(--pattern-line-opacity)) 1px,
        transparent 1px
      ),
      linear-gradient(
        90deg,
        hsla(var(--border-h), var(--border-s), var(--border-l), var(--pattern-line-opacity)) 1px,
        transparent 1px
      );
    background-size: var(--pattern-tile-size) var(--pattern-tile-size);
    @apply text-foreground;
  }
}

    